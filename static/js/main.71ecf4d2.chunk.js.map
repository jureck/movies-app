{"version":3,"sources":["assets/icons/eye.svg","assets/icons/noPoster.png","assets/icons/search.svg","assets/icons/check.svg","assets/icons/dark.svg","assets/icons/light.svg","assets/icons/sortblack.svg","assets/icons/sortwhite.svg","assets/icons/user.svg","assets/icons sync /^/.*$","assets/icons/home.svg","assets/icons/signin.svg","assets/icons/signout.svg","assets/icons/signup.svg","assets/icons/watch.svg","themes/GlobalTheme.js","services/firebase/config.js","context/ThemeContext.js","components/Home/ResultsItem.js","context/AuthContext.js","components/Home/MainPage.js","services/api/config.js","components/Menu/MenuItem.js","components/Menu/index.js","components/Home/index.js","components/GlobalStyle.js","components/WatchList/WatchListItem.js","components/WatchList/index.js","components/SignUp/index.js","components/SignIn/index.js","components/ResetPassword/index.js","components/ScrollToTop.js","components/NotFound/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","theme","light","colors","primary","secondary","syntax","altSyntax","dark","accent","accentAlt","delete","add","fonts","xs","s","m","l","xl","properties","radiusSmall","radiusBig","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","db","ThemeContext","createContext","ThemeContextProvider","props","initialState","localStorage","getItem","useState","currentTheme","setCurrentTheme","Provider","value","children","Item","styled","div","isEmpty","TextWrapper","TitleWrapper","Title","p","Poster","img","Rate","Description","Add","button","isOnList","Added","Check","Year","DetailsWrapper","Duration","Genres","ErrorMessage","ResultsItem","movie","isSignedIn","uid","useContext","setIsEmpty","setIsOnList","errorMessage","setErrorMessage","title","year","description","duration","genres","rate","useEffect","res","collection","onSnapshot","snapshot","size","results","forEach","doc","data","push","length","some","result","src","onClick","newItem","addedAt","Date","now","addToList","CheckImg","AuthContext","React","useAuth","AuthProvider","username","setUsername","setIsSignedIn","onAuthStateChanged","user","displayName","setItem","removeItem","signUp","email","password","createUserWithEmailAndPassword","signIn","signInWithEmailAndPassword","signOut","SearchBlock","SearchInput","input","SearchButton","SearchImg","Form","form","RecentlySearched","section","RecentlyHeader","header","RecentlySearchedItem","article","ItemPoster","ItemTitle","ItemYear","MainPage","loader","type","color","height","width","timeout","setTitle","movies","setMovies","isLoading","setIsLoading","isMovieFound","setIsMovieFound","searched","setSearched","getDataFromApi","a","isSpecific","imdbId","address","fetch","response","json","getDataForEveryMovie","moviesToShow","bestResult","Ratings","Value","Promise","all","imdbID","Type","Runtime","Genre","Plot","NoPoster","handleSubmit","preventDefault","Response","Search","orderBy","limit","get","recentMovies","lastOfRecent","docs","filter","undefined","recentMovie","array","onSubmit","placeholder","onChange","target","handleChange","SearchIcon","sort","b","q","key","li","current","name","toLowerCase","Icon","Name","MenuItem","path","history","useHistory","logout","then","href","require","MainMenu","isOpen","MenuCloser","TopBar","CurrentPage","Hamburger","HamburgerInner","ThemeImg","ThemeSwitcher","Separator","UserInfo","UserImg","Menu","setIsOpen","location","pathname","split","join","slice","User","newTheme","ToggleTheme","MoonImg","SunImg","Main","HeaderText","Sitename","Home","Style","createGlobalStyle","GlobalStyle","Delete","WatchListItem","deleteFromList","main","Sort","SortIcon","SortOptions","isSortOpen","SortOption","CloseBox","WatchList","setIsSortOpen","setDocs","isWatchlistEmpty","setIsWatchlistEmpty","docsId","sortMovies","SortBlack","SortWhite","Label","label","Input","passwordError","emailError","Submit","ShowPassword","span","EyeIcon","HeroText","PasswordWrapper","Redirector","SignUp","isPasswordHidden","setIsPasswordHidden","setEmail","setPassword","setEmailError","setPasswordError","cred","updateProfile","catch","err","htmlFor","Eye","isError","SignIn","isAuthError","setIsAuthError","resetError","Message","ResetPassword","setResetError","resetInfo","setResetInfo","sendPasswordResetEmail","ScrollToTop","componentDidMount","window","scrollTo","componentDidUpdate","prevProps","render","PureComponent","withRouter","NotFound","App","exact","component","Boolean","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","console","message"],"mappings":"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","file":"static/js/main.71ecf4d2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/eye.62517b9b.svg\";","module.exports = __webpack_public_path__ + \"static/media/noPoster.2beab053.png\";","module.exports = __webpack_public_path__ + \"static/media/search.5437e521.svg\";","module.exports = __webpack_public_path__ + \"static/media/check.36416999.svg\";","module.exports = __webpack_public_path__ + \"static/media/dark.023a0a49.svg\";","module.exports = __webpack_public_path__ + \"static/media/light.e738a8e1.svg\";","module.exports = __webpack_public_path__ + \"static/media/sortblack.2dc3c8ec.svg\";","module.exports = __webpack_public_path__ + \"static/media/sortwhite.8eb12b8c.svg\";","module.exports = __webpack_public_path__ + \"static/media/user.b49ba77f.svg\";","var map = {\n\t\"./check.svg\": 27,\n\t\"./dark.svg\": 28,\n\t\"./eye.svg\": 17,\n\t\"./home.svg\": 89,\n\t\"./light.svg\": 29,\n\t\"./noPoster.png\": 20,\n\t\"./search.svg\": 26,\n\t\"./signin.svg\": 90,\n\t\"./signout.svg\": 91,\n\t\"./signup.svg\": 92,\n\t\"./sortblack.svg\": 30,\n\t\"./sortwhite.svg\": 31,\n\t\"./user.svg\": 32,\n\t\"./watch.svg\": 93\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 88;","module.exports = __webpack_public_path__ + \"static/media/home.70124145.svg\";","module.exports = __webpack_public_path__ + \"static/media/signin.440a3bfa.svg\";","module.exports = __webpack_public_path__ + \"static/media/signout.70012351.svg\";","module.exports = __webpack_public_path__ + \"static/media/signup.fbeb90ef.svg\";","module.exports = __webpack_public_path__ + \"static/media/watch.4540d5f0.svg\";","export const theme = {\r\n    light: {\r\n        colors: {\r\n            primary: '#EDEDED',\r\n            secondary: '#FCFCFC',\r\n            syntax: '#121212',\r\n            altSyntax: '#4A4A4A',\r\n        }\r\n    },\r\n    dark: {\r\n        colors: {\r\n            primary: '#1a1e1f',\r\n            secondary: '#202526',\r\n            syntax: '#FFFFFF',\r\n            altSyntax: '#858585',\r\n        }\r\n    },\r\n    colors: {\r\n        accent: '#FFCF72',\r\n        accentAlt: '#C29A4C',\r\n        delete: '#D71D1D',\r\n        add: '#19a849'\r\n    },\r\n    fonts: {\r\n        xs: '14px',\r\n        s: '17px',\r\n        m: '23px',\r\n        l: '26px',\r\n        xl: '33px'\r\n    },\r\n    properties: {\r\n        radiusSmall: '5px',\r\n        radiusBig: '10px'\r\n    }\r\n}","import * as firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDVLEcWQ2Cn7X4G3Dl3Gh3UFxuDz5PjfDQ\",\r\n    authDomain: \"movies-app-65278.firebaseapp.com\",\r\n    databaseURL: \"https://movies-app-65278.firebaseio.com\",\r\n    projectId: \"movies-app-65278\",\r\n    storageBucket: \"movies-app-65278.appspot.com\",\r\n    messagingSenderId: \"54560943229\",\r\n    appId: \"1:54560943229:web:2d420b2c986dc85024d514\"\r\n  };\r\n  \r\n  firebase.initializeApp(firebaseConfig);\r\n\r\n  export const auth = firebase.auth;\r\n  export const db = firebase.firestore();","import React, { useState, createContext } from 'react';\r\n\r\nexport const ThemeContext = createContext();\r\n\r\nconst ThemeContextProvider = (props) => {\r\n    const initialState = localStorage.getItem('theme') ? localStorage.getItem('theme') : 'dark';\r\n    const [currentTheme, setCurrentTheme] = useState(initialState); \r\n\r\n    return ( \r\n        <ThemeContext.Provider value={{currentTheme, setCurrentTheme}}>\r\n            {props.children}\r\n        </ThemeContext.Provider>\r\n    );\r\n}\r\n \r\nexport default ThemeContextProvider;","import React, { useEffect, useState, useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport { theme } from '../../themes/GlobalTheme';\r\nimport CheckImg from '../../assets/icons/check.svg';\r\nimport { db } from '../../services/firebase/config';\r\nimport { ThemeContext } from '../../context/ThemeContext';\r\n\r\nconst Item = styled.div`\r\n    display: ${({ isEmpty }) => isEmpty ? \"none\" : \"flex\" };\r\n    flex-direction: column;\r\n    width: 90%;\r\n    min-height: 100px;\r\n    background-color: ${({ currentTheme }) => theme[currentTheme].colors.secondary};\r\n    padding: 10px;\r\n    margin-top: 10px;\r\n    border-radius: ${theme.properties.radiusSmall};\r\n    align-items: flex-start;\r\n    justify-content: center;\r\n\r\n    @media (min-width: 700px) {\r\n        width: 50%;\r\n    }\r\n\r\n    @media (min-width: 1000px) {\r\n        width: 70%;\r\n        flex-direction: row;\r\n    }\r\n`\r\nconst TextWrapper = styled.div`\r\n    height: 100%;\r\n    width: 100%;\r\n`\r\nconst TitleWrapper = styled.div`\r\n    display: flex;\r\n`\r\nconst Title = styled.p`\r\n    color: ${theme.colors.accent};\r\n    flex: 3;\r\n    margin: 0;\r\n    font-weight: 700;\r\n    font-size: ${theme.fonts.xl};\r\n`\r\nconst Poster = styled.img`\r\n    display: block;\r\n    margin: 10px 0px;\r\n    height: auto;\r\n    width: 100%;\r\n\r\n    @media (min-width: 1000px) {\r\n        margin: 5px 10px 5px 5px;\r\n        max-width: 300px;\r\n    }\r\n`\r\nconst Rate = styled.p`\r\n    color: ${theme.colors.accent};\r\n    margin: 15px 0px;\r\n    font-size: ${theme.fonts.s};\r\n    border: 3px solid ${theme.colors.accent};\r\n    width: 70px;\r\n    text-align: center;\r\n    padding: 5px;\r\n    font-weight: 700;\r\n    border-radius: ${theme.properties.radiusSmall};\r\n    background-color: ${({ currentTheme }) => theme[currentTheme].colors.primary};\r\n`\r\n\r\nconst Description = styled.p`\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    padding: 20px 10px;\r\n    border-radius: ${theme.properties.radiusSmall};\r\n    background-color: ${({ currentTheme }) => theme[currentTheme].colors.primary};\r\n    font-weight: 700;\r\n    font-size: ${theme.fonts.s};\r\n`\r\nconst Add = styled.button`\r\n    font-weight: 700;\r\n    display: ${({ isOnList }) => isOnList ? \"none\" : \"block\"};\r\n    height: 30px;\r\n    border: 0;\r\n    background-color: ${({ currentTheme }) => theme[currentTheme].colors.primary};\r\n    color:  ${theme.colors.add};\r\n    transition: all .3s ease-in-out;\r\n    outline: none;\r\n    font-weight: 700;\r\n    cursor: pointer;\r\n    font-size: ${theme.fonts.xs};\r\n    border-radius: ${theme.properties.radiusSmall};\r\n\r\n    &:hover {\r\n        background-color: ${({ currentTheme }) => theme[currentTheme].colors.secondary};\r\n    }\r\n`\r\nconst Added = styled.p`\r\n    font-weight: 700;\r\n    display: ${({ isOnList }) => isOnList ? \"block\" : \"none\"};\r\n    height: 25px;\r\n    color:  ${theme.colors.add};\r\n    margin: 0;\r\n    margin-top: 5px;\r\n    font-size: ${theme.fonts.s};\r\n`\r\nconst Check = styled.img`\r\n    display: ${({ isOnList }) => isOnList ? \"block\" : \"none\"};\r\n    padding-left: 2px;\r\n    padding-top: 2px;\r\n    height: 25px;\r\n`\r\nconst Year = styled.p`\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.altSyntax};\r\n    font-size: ${theme.fonts.s};\r\n    margin: 0;\r\n`\r\nconst DetailsWrapper = styled.div`\r\n    display: flex;\r\n    justify-content: left;\r\n`\r\nconst Duration = styled.p`\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.altSyntax};\r\n    margin: 0px;\r\n    margin-right: 30px;\r\n    padding: 10px;\r\n    border-radius: ${theme.properties.radiusSmall};\r\n    background-color: ${({ currentTheme }) => theme[currentTheme].colors.primary};\r\n    font-weight: 700;\r\n    min-width: 75px;\r\n    max-height: 38px;\r\n`\r\nconst Genres = styled.p`\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.altSyntax};\r\n    margin: 0px 0px;\r\n    padding: 10px;\r\n    border-radius: ${theme.properties.radiusSmall};\r\n    background-color: ${({ currentTheme }) => theme[currentTheme].colors.primary};\r\n    font-weight: 700;\r\n`\r\nconst ErrorMessage = styled.p`\r\n    color: red;\r\n    text-align: center;\r\n`\r\n\r\n\r\n\r\nconst ResultsItem = ({ movie, isSignedIn, uid }) => {\r\n    const {currentTheme} = useContext(ThemeContext);\r\n    const [isEmpty, setIsEmpty] = useState(false);\r\n    const [isOnList, setIsOnList] = useState(false); \r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const {title, year, description, duration, genres, rate} = movie;\r\n    \r\n    useEffect(() => {\r\n        if(!title) {\r\n            setIsEmpty(true);\r\n        }\r\n        \r\n        const res = db.collection('movies').onSnapshot(snapshot => {\r\n            if(snapshot.size) {\r\n                const results = [];\r\n                snapshot.forEach(doc => {\r\n                        if(doc.data()[uid]) {\r\n                            results.push({\r\n                                title: doc.data()[uid].title,\r\n                                year: doc.data()[uid].year,\r\n                            });\r\n                        }\r\n                    }\r\n                );\r\n                if(results.length) {\r\n                    setIsOnList(results.some((result) => result.title === title && result.year === year));\r\n                }\r\n            }\r\n        });   \r\n        \r\n        return () => {\r\n            res();\r\n        }\r\n\r\n    }, [title, year, uid]);\r\n\r\n    const addToList = (movie, uid, isSignedIn, setErrorMessage) => {\r\n        if(isSignedIn) {\r\n            const newItem = {\r\n                [uid]: {\r\n                        title: movie.title,\r\n                        year: movie.year,\r\n                        duration: movie.duration,\r\n                        rate: movie.rate,\r\n                        genres: movie.genres,\r\n                        description: movie.description,\r\n                        addedAt: Date.now()\r\n                }\r\n            };\r\n        \r\n            db.collection('movies').add(newItem);\r\n        } else {\r\n            setErrorMessage(\"You must be logged in to do that\");\r\n        }\r\n        \r\n    }\r\n\r\n    return ( \r\n        <>\r\n\r\n        <ErrorMessage>{errorMessage}</ErrorMessage>\r\n        <Item isEmpty={isEmpty} currentTheme={currentTheme} >\r\n            <Poster src={movie.img}/>\r\n            <TextWrapper>\r\n                <TitleWrapper>\r\n                    <Title>\r\n                        {title}\r\n                    </Title>\r\n                    <Add \r\n                        currentTheme={currentTheme} \r\n                        isOnList={isOnList} \r\n                        onClick={() => addToList(movie, uid, isSignedIn, setErrorMessage)}\r\n                    >\r\n                        ADD TO LIST\r\n                    </Add>\r\n                    <Added isOnList={isOnList}>\r\n                        ADDED\r\n                    </Added>\r\n                    <Check \r\n                        src={CheckImg}\r\n                        isOnList={isOnList}\r\n                    />\r\n                </TitleWrapper>\r\n                <Year currentTheme={currentTheme}>\r\n                    {year}\r\n                </Year>\r\n                <Rate currentTheme={currentTheme}>\r\n                    {rate}\r\n                </Rate>\r\n                <DetailsWrapper>\r\n                    <Duration currentTheme={currentTheme}>\r\n                        {duration}\r\n                    </Duration>\r\n                    <Genres currentTheme={currentTheme}>\r\n                        {genres}\r\n                    </Genres>\r\n                </DetailsWrapper>\r\n                <Description currentTheme={currentTheme}>\r\n                    {description}\r\n                </Description>\r\n            </TextWrapper>\r\n        </Item>\r\n\r\n        </>\r\n    );\r\n}\r\n \r\nexport default ResultsItem;","import React, { useContext, useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { auth } from '../services/firebase/config';\r\n\r\nexport const AuthContext = React.createContext();\r\n\r\nexport const useAuth = () => {\r\n    return useContext(AuthContext);\r\n}\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n\r\n    const [username, setUsername] = useState();\r\n    const [isSignedIn, setIsSignedIn] = useState();\r\n\r\n    const signUp = (email, password) => {\r\n        return auth().createUserWithEmailAndPassword(email, password);\r\n    }\r\n\r\n    const signIn = (email, password) => {\r\n        return auth().signInWithEmailAndPassword(email, password);\r\n    }\r\n\r\n    const signOut = () => {\r\n        return auth().signOut();\r\n    }\r\n\r\n    useEffect(() => {\r\n        const cleanup = auth().onAuthStateChanged((user) => {\r\n            if(user) {\r\n                setUsername(user.displayName);\r\n                localStorage.setItem(\"uid\", user.uid);\r\n                if(user.uid) {\r\n                    setIsSignedIn(true);\r\n                }\r\n            }\r\n            else {\r\n                localStorage.removeItem(\"uid\");\r\n                setIsSignedIn(false);\r\n            }\r\n        })\r\n\r\n        return cleanup;\r\n    }, []);\r\n    \r\n    const value = {\r\n        username,\r\n        isSignedIn,\r\n        signUp,\r\n        signIn,\r\n        signOut,\r\n    }\r\n    return (\r\n        <AuthContext.Provider value={value}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    )\r\n}","import React, { useState, useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport SearchIcon from '../../assets/icons/search.svg';\r\nimport NoPoster from '../../assets/icons/noPoster.png';\r\nimport ResultsItem from './ResultsItem';\r\nimport { theme } from '../../themes/GlobalTheme';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport { ThemeContext } from '../../context/ThemeContext';\r\nimport { db } from '../../services/firebase/config';\r\nimport { apiAddress, apiKey } from '../../services/api/config'; \r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nconst SearchBlock = styled.div`\r\n    width: 80%;\r\n    height: 45px;\r\n    position: relative;\r\n\r\n    @media (min-width: 1000px) {\r\n        width: 40%;\r\n    }\r\n`\r\nconst SearchInput = styled.input`\r\n    height: 100%;\r\n    border: 0px;\r\n    width: 100%;\r\n    background-color: \"#FFFFFF\";\r\n    border-radius: ${theme.properties.radiusBig};\r\n    outline: none;\r\n    padding: 10px;\r\n    font-size: 20px;\r\n\r\n    &:focus {\r\n        border: 2px solid #1394eb;\r\n    }\r\n`\r\nconst SearchButton = styled.button`\r\n    height: 100%;\r\n    width: 70px;\r\n    position: absolute;\r\n    border: 0px;\r\n    right: 0;\r\n    background-color: ${theme.colors.accent};\r\n    border-radius: ${theme.properties.radiusBig};\r\n    transition: all .3s ease-in-out;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n        background: ${theme.colors.accentAlt};\r\n    }\r\n\r\n`\r\nconst SearchImg = styled.img`\r\n    width: 25px;\r\n`\r\nconst Form = styled.form`\r\n    height: 45px;\r\n`\r\nconst Error = styled.div`\r\n    width: 100%;\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    text-align: center;\r\n    font-size: ${theme.fonts.l};\r\n    margin-top: 100px;\r\n    margin-bottom: 200px;\r\n`\r\n\r\nconst RecentlySearched = styled.section`\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    width: 1000px;\r\n    margin-bottom: 200px;\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n    overflow-x: auto;\r\n    -webkit-overflow-scrolling: touch;\r\n\r\n    @media (max-width: 1050px) {\r\n        width: 90%;\r\n    }\r\n\r\n    &::-webkit-scrollbar {\r\n        display: none;\r\n    }\r\n`\r\n\r\nconst RecentlyHeader = styled.header`\r\n    width: 980px;\r\n    text-align: left;\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    font-size: ${theme.fonts.xl};\r\n    font-weight: 700;\r\n    margin-bottom: 15px;\r\n    margin-top: 100px;\r\n\r\n\r\n    @media (max-width: 1050px) {\r\n        width: calc(90% - 20px);\r\n    }\r\n\r\n    @media (max-width: 600px) {\r\n        font-size: ${theme.fonts.l};\r\n    }\r\n`\r\n\r\nconst RecentlySearchedItem = styled.article`\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin: 0px 10px;\r\n    flex: 0 0 auto;\r\n    width: 230px;\r\n    min-height: 402px;\r\n\r\n    @media (max-width: 1050px) {\r\n        width: 31%;\r\n    }\r\n\r\n    @media (max-width: 650px) {\r\n        width: 36vw;\r\n    }\r\n\r\n`\r\n\r\nconst ItemPoster = styled.img`\r\n    display: block;\r\n    height: 340px;\r\n    width: 100%;\r\n    cursor: pointer;\r\n    transition: all .1s ease-out;\r\n\r\n    &:hover {\r\n        transform: scale(1.02);\r\n    }\r\n\r\n    @media (max-width: 1050px) {\r\n        height: 40vw;\r\n    }\r\n\r\n    @media (max-width: 650px) {\r\n        height: 50vw;\r\n    }\r\n`\r\n\r\nconst ItemTitle = styled.p`\r\n    color: ${theme.colors.accent};\r\n    font-size: ${theme.fonts.m};\r\n    margin: 5px 0px;\r\n\r\n    @media (max-width: 650px) {\r\n        font-size: ${theme.fonts.s};\r\n    }\r\n`\r\n\r\nconst ItemYear = styled.p`\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.altSyntax};\r\n    margin: 0px;\r\n    font-size: ${theme.fonts.s};\r\n`\r\n\r\nconst MainPage = () => {\r\n\r\n    const loader = <Loader type=\"TailSpin\" color={theme.colors.accent} height={200} width={100} timeout={20000} />;\r\n    const {currentTheme} = useContext(ThemeContext);\r\n\r\n    const [title, setTitle] = useState('');\r\n    const [movies, setMovies]= useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isMovieFound, setIsMovieFound] = useState(true);\r\n    const [searched, setSearched] = useState([]);\r\n    const { isSignedIn } = useAuth();\r\n    const uid = localStorage.getItem('uid');\r\n\r\n    const getDataFromApi = async (title, isSpecific = true, imdbId) => {\r\n        const address = `${apiAddress}?apikey=${apiKey}&${isSpecific ? \"i\" : \"s\"}=${isSpecific ? imdbId : title}`;\r\n        const response = await fetch(address);\r\n        const result = await response.json();\r\n        return result;\r\n    }\r\n    \r\n    const getDataForEveryMovie = async (results) => {\r\n        let moviesToShow = [];\r\n        let bestResult = { Ratings: [{ Value: \"0/10\" }] };\r\n\r\n        await Promise.all(results.map(async (result) => {\r\n            const movie = await getDataFromApi(null, true, result.imdbID);\r\n            if (movie.Type !== \"game\") {\r\n                moviesToShow.push({\r\n                    title: movie.Title,\r\n                    year: movie.Year,\r\n                    rate:\r\n                        movie.Ratings.length > 0\r\n                            ? movie.Ratings[0].Value\r\n                            : \"-\",\r\n                    duration: movie.Runtime,\r\n                    genres: movie.Genre,\r\n                    description: movie.Plot,\r\n                    img:\r\n                        movie.Poster === \"N/A\"\r\n                            ? NoPoster\r\n                            : movie.Poster,\r\n                });\r\n                if (movie.Ratings[0]?.Value > bestResult.Ratings[0]?.Value)\r\n                    bestResult = movie;\r\n            }   \r\n        }));\r\n        return [moviesToShow, bestResult];\r\n    }\r\n\r\n    const handleSubmit = async (e, title, uid) => {\r\n        setIsLoading(true);\r\n        setMovies([]);\r\n        e.preventDefault();\r\n        const result = await getDataFromApi(title, false);\r\n\r\n        if (result.Response === \"True\") {\r\n            const results = result.Search;  \r\n            const [moviesToShow, bestResult] = await getDataForEveryMovie(results);\r\n            setMovies(moviesToShow);\r\n            const recentMovies = await db\r\n                .collection(\"history\")\r\n                .orderBy(\"addedAt\", \"desc\")\r\n                .limit(10)\r\n                .get();\r\n            const lastOfRecent = {\r\n                title: recentMovies.docs\r\n                    .map((doc) => doc.data()[uid]?.title)\r\n                    .filter((title) => title !== undefined)[0],\r\n                year: recentMovies.docs\r\n                    .map((doc) => doc.data()[uid]?.year)\r\n                    .filter((title) => title !== undefined)[0],\r\n            };\r\n            const recentMovie = {\r\n                [uid]: {\r\n                    title: bestResult.Title,\r\n                    img:\r\n                        bestResult.Poster === \"-\"\r\n                            ? NoPoster\r\n                            : bestResult.Poster,\r\n                    year: bestResult.Year,\r\n                },\r\n                addedAt: Date.now(),\r\n            };\r\n            if (\r\n                uid &&\r\n                lastOfRecent.title !== bestResult.Title &&\r\n                lastOfRecent.year !== bestResult.Year\r\n            ) {\r\n                db.collection(\"history\").add(recentMovie);\r\n            }\r\n            setIsMovieFound(true);\r\n            \r\n        } else {\r\n            setIsMovieFound(false);\r\n        }\r\n        setIsLoading(false);\r\n    };\r\n\r\n    \r\n    const handleChange = (e) => {\r\n        const value = e.target.value;\r\n        setTitle(value);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        const res = uid ? db.collection('history').orderBy(\"addedAt\", \"desc\").limit(4).onSnapshot(snapshot => {\r\n            if(snapshot.size) {\r\n                let results = [];\r\n                snapshot.forEach(doc => {\r\n                        if(doc.data()[uid]) {\r\n                            results.push({ \r\n                                title: doc.data()[uid].title, \r\n                                img: doc.data()[uid].img,\r\n                                year: doc.data()[uid].year,  \r\n                                addedAt: doc.data().addedAt,\r\n                            });\r\n                        }\r\n                    }\r\n                );\r\n                if(results.length) {\r\n                    setSearched(results);\r\n                }\r\n            }\r\n        })\r\n        : () => null;   \r\n\r\n        return () => {\r\n          res();\r\n        }\r\n\r\n    }, [uid]);\r\n\r\n    const sortByRate = (array) => {\r\n        return array.sort((a, b) => a.rate < b.rate ? 1 : -1);\r\n    }\r\n\r\n    return ( \r\n        <>\r\n            <SearchBlock>\r\n                <Form onSubmit={(e) => handleSubmit(e, title, uid)}>\r\n                    <SearchInput placeholder=\"Search\" currentTheme={currentTheme} value={title} onChange={(e) => handleChange(e)}/>\r\n                    <SearchButton>\r\n                        <SearchImg src={SearchIcon} />\r\n                    </SearchButton>\r\n                </Form>\r\n            </SearchBlock>\r\n            { !isMovieFound && <Error currentTheme={currentTheme}> Nothing found :( </Error> }\r\n            { isLoading && loader }\r\n            { !isLoading && isMovieFound && sortByRate(movies).map((movie, q) => <ResultsItem key={q} uid={uid} isSignedIn={isSignedIn} movie={movie} />)}\r\n            { localStorage.getItem(\"uid\") !== null && searched.length ? <RecentlyHeader  currentTheme={currentTheme}>Recently searched</RecentlyHeader> : null }\r\n            { searched.length < 1 && localStorage.getItem(\"uid\") !== null ? loader : null}\r\n\r\n            <RecentlySearched>\r\n                {isSignedIn && searched.length > 0 && searched.map((movie) => \r\n                    <RecentlySearchedItem onClick={(e) => handleSubmit(e, movie.title, uid)} key={movie.addedAt}>\r\n                        <ItemPoster src={movie.img} />\r\n                        <ItemTitle currentTheme={currentTheme}>\r\n                            {movie.title}\r\n                        </ItemTitle>\r\n                        <ItemYear currentTheme={currentTheme}>\r\n                            {movie.year}\r\n                        </ItemYear>\r\n                    </RecentlySearchedItem>\r\n                )}\r\n            </RecentlySearched>\r\n        </>\r\n\r\n    );\r\n}\r\n \r\nexport default MainPage;","export const apiAddress = 'https://www.omdbapi.com/'\r\nexport const apiKey = '93b12f18';","import React, { useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport { theme } from '../../themes/GlobalTheme';\r\nimport { ThemeContext } from '../../context/ThemeContext';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext'; \r\n\r\nconst Item = styled.li`\r\n    width: 100%;\r\n    height: 57px;\r\n    margin: 0;\r\n    cursor: pointer;\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    font-size: ${theme.fonts.s};\r\n    line-height: 57px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    background-color: ${({ current, name, currentTheme }) => current === name.toLowerCase() ? `${theme[currentTheme].colors.primary}` : \"none\" };\r\n    font-weight: ${({ current, name }) => current === name ? \"600\" : \"500\"};\r\n    transition: all .1s ease-in-out;\r\n\r\n    &:first-child {\r\n        margin-top: 80px;\r\n    }\r\n\r\n    &:hover {\r\n        background-color: ${({ currentTheme }) => theme[currentTheme].colors.primary};\r\n    }\r\n`\r\nconst Icon = styled.img`\r\n    height: 26px;\r\n    margin: 0px 20px;\r\n`\r\nconst Name = styled.p`\r\n    height: 100%;\r\n    margin: 0;\r\n`\r\n\r\nconst MenuItem = ({ img, name, current, path, signOut }) => {\r\n    const {currentTheme} = useContext(ThemeContext);\r\n    const history = useHistory();\r\n    const { signOut: logout } = useAuth();\r\n\r\n    const handleClick = () => {\r\n        if(signOut) {\r\n            logout()\r\n            .then(() => history.push('/'));\r\n        } else {\r\n            history.push(path);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Item\r\n            onClick={handleClick}\r\n            currentTheme={currentTheme}\r\n            href={path}\r\n            current={current === \"\" ? \"Home\" : current}\r\n            name={name}\r\n        >\r\n            <Icon src={require(`../../assets/icons/${img}`)} />\r\n            <Name>{name}</Name>\r\n        </Item>\r\n    );\r\n}\r\n \r\nexport default MenuItem;","import React, { useState, useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport { theme } from '../../themes/GlobalTheme';\r\nimport MenuItem from './MenuItem';\r\nimport { ThemeContext } from '../../context/ThemeContext';\r\nimport SunImg from '../../assets/icons/light.svg';\r\nimport MoonImg from '../../assets/icons/dark.svg';\r\nimport User from '../../assets/icons/user.svg';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nconst MainMenu = styled.div`\r\n    background-color: ${({ currentTheme }) => theme[currentTheme].colors.secondary};\r\n    width: 60%;\r\n    height: 100%;\r\n    position: fixed;\r\n    left: ${({ isOpen }) => isOpen ? \"0\" : \"-100%\" };\r\n    top: 0;\r\n    z-index: 100;\r\n    transition: all .4s ease-out;\r\n\r\n    @media (min-width: 700px) {\r\n        width: 250px;\r\n    }\r\n`\r\nconst MenuCloser = styled.div`\r\n    display: block;\r\n    position: fixed;\r\n    top: 0;\r\n    left: ${({ isOpen }) => isOpen ? \"0\" : \"-100%\" };\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 99;\r\n    transition: all .2s ease-in-out;\r\n`\r\nconst TopBar = styled.div`\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: flex-start;\r\n    height: 50px;\r\n    width: 100%;\r\n    background-color: ${({ currentTheme }) => theme[currentTheme].colors.primary};\r\n`\r\nconst CurrentPage = styled.p`\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    font-size: ${theme.fonts.m};\r\n    font-weight: 700;\r\n    height: 50px;\r\n    margin: 0;\r\n    line-height: 50px;\r\n`\r\nconst Hamburger = styled.div`\r\n    width: 36px;\r\n    height: 50px;\r\n    position: relative;\r\n    margin: 0px 20px 0px 10px;\r\n    z-index: 10;\r\n    cursor: pointer;\r\n`\r\nconst HamburgerInner = styled.div`\r\n    width: 36px;\r\n    height: 3px;\r\n    margin-top: 15px;\r\n    background-color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    position: absolute;\r\n\r\n    &::before, &::after {\r\n        content: '';\r\n        display: block;\r\n        width: 36px;\r\n        height: 3px;\r\n        background-color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n        position: absolute;\r\n    }\r\n\r\n    &::before {\r\n        margin-top: 7px;\r\n    }\r\n\r\n    &::after {\r\n        margin-top: 14px;\r\n    }\r\n`\r\nconst ThemeImg = styled.img`\r\n    display: inline-block;\r\n    margin-left: 10px;\r\n    position: absolute;\r\n    top: 18px;\r\n`\r\nconst ThemeSwitcher = styled.div`\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    position: absolute;\r\n    bottom: 0;\r\n    font-weight: 700;\r\n    left: 0;\r\n    width: 90%;\r\n    text-align: center;\r\n    height: 60px;\r\n    cursor: pointer;\r\n    line-height: 60px;\r\n`\r\nconst Separator = styled.div`\r\n    width: 100%;\r\n    height: 1px;\r\n    background: ${({ currentTheme }) => theme[currentTheme].colors.altSyntax};\r\n    margin: 15px 0px;\r\n`\r\nconst UserInfo = styled.div`\r\n    width: 100%;\r\n    height: 50px;\r\n    display: flex;\r\n`\r\nconst UserImg = styled.img`\r\n    height: 26px;\r\n    margin: 12px 20px;\r\n`\r\nconst Name = styled.p`\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    font-size: ${theme.fonts.s};\r\n    font-weight: 500;\r\n    width: 60%;\r\n`\r\n\r\nconst Menu = () => {\r\n    const {currentTheme, setCurrentTheme} = useContext(ThemeContext);\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const { isSignedIn, username } = useAuth();\r\n    const history = useHistory();\r\n    let current = history.location.pathname.split('-').join(' ').slice(1);\r\n\r\n    const ToggleTheme = (currentTheme, setCurrentTheme) => {\r\n        const newTheme = currentTheme === \"light\" ? \"dark\" : \"light\";\r\n        setCurrentTheme(newTheme);\r\n        localStorage.setItem('theme', newTheme);\r\n    }\r\n\r\n    return ( \r\n      \r\n        <TopBar currentTheme={currentTheme}>\r\n            <Hamburger onClick={() => setIsOpen(!isOpen)}>\r\n                <HamburgerInner currentTheme={currentTheme}/>\r\n            </Hamburger>\r\n            <CurrentPage currentTheme={currentTheme} >\r\n                {current}\r\n            </CurrentPage>\r\n            <MainMenu currentTheme={currentTheme} isOpen={isOpen}>\r\n                <MenuItem \r\n                    onClick={() => setIsOpen(!isOpen)}\r\n                    name=\"Home\"\r\n                    img=\"home.svg\"\r\n                    path=\"/\"\r\n                    current={current}\r\n                />\r\n                {isSignedIn && <MenuItem\r\n                    onClick={() => setIsOpen(!isOpen)} \r\n                    name=\"Watch list\"\r\n                    img=\"watch.svg\"\r\n                    path=\"/watch-list\"\r\n                    current={current}\r\n                    />\r\n                }\r\n                \r\n                <Separator currentTheme={currentTheme} />\r\n                    {isSignedIn ?\r\n                        <>\r\n                            <UserInfo>\r\n                                <UserImg src={User}/>\r\n                                <Name currentTheme={currentTheme}>{username}</Name>\r\n                            </UserInfo>\r\n                            <MenuItem\r\n                                name=\"Sign out\"\r\n                                img=\"signout.svg\"\r\n                                path=\"/\"\r\n                                current={current}\r\n                                signOut\r\n                            />\r\n                        </>\r\n                        :\r\n                        <>\r\n                            <MenuItem\r\n                                name=\"Sign in\"\r\n                                img=\"signin.svg\"\r\n                                path=\"/sign-in\"\r\n                                current={current}\r\n                            />\r\n                            <MenuItem\r\n                                name=\"Sign up\"\r\n                                img=\"signup.svg\"\r\n                                path=\"/sign-up\"\r\n                                current={current}\r\n                            />\r\n                        </>\r\n\r\n                    }        \r\n                        \r\n                <ThemeSwitcher onClick={() => ToggleTheme(currentTheme, setCurrentTheme)} currentTheme={currentTheme}>\r\n                    Toggle theme\r\n                    {currentTheme === \"light\" ? \r\n                        <ThemeImg src={MoonImg}/> \r\n                            :\r\n                        <ThemeImg src={SunImg}/> \r\n                    }\r\n                    \r\n                </ThemeSwitcher>       \r\n            </MainMenu>\r\n            <MenuCloser \r\n                onClick={() => setIsOpen(!isOpen)}\r\n                isOpen={isOpen}\r\n            />\r\n        </TopBar>\r\n    );\r\n}\r\n \r\nexport default Menu;","import React, { useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport { theme } from '../../themes/GlobalTheme';\r\nimport MainPage from './MainPage';\r\nimport Menu from '../Menu/index';\r\nimport { ThemeContext } from '../../context/ThemeContext';\r\n\r\nconst Main = styled.div`\r\n    display: flex;\r\n    min-height: 100vh;\r\n    flex-direction: column;\r\n    align-items: center;\r\n`\r\nconst HeaderText = styled.p`\r\n   font-size: ${theme.fonts.xl};\r\n   color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n   text-align: center;\r\n   margin-top: 100px;\r\n`\r\nconst Sitename = styled.p`\r\n    font-family: Unlock;\r\n    height: 80px;\r\n    line-height: 80px;\r\n    display: block;\r\n    color: #d30303ee;\r\n    font-size: 60px;\r\n    text-transform: uppercase;\r\n    position: absolute;\r\n    width: 100%;\r\n    margin: 0 auto;\r\n    text-align: center;\r\n    \r\n    @media (max-width: 900px) {\r\n        font-size: 40px;\r\n        line-height: 50px;\r\n        height: 60px;\r\n    }\r\n    @media (max-width: 400px) {\r\n        font-size: 30px;\r\n        line-height: 50px;\r\n        height: 60px;\r\n    }\r\n    @media (max-width: 300px) {\r\n        font-size: 20px;\r\n        line-height: 50px;\r\n        height: 60px;\r\n    }\r\n`\r\n\r\nconst Home = () => {\r\n    const {currentTheme} = useContext(ThemeContext);\r\n\r\n    return ( \r\n        <Main>\r\n            <Menu />\r\n            <Sitename currentTheme={currentTheme}>\r\n                movies-app   \r\n            </Sitename>\r\n            <HeaderText currentTheme={currentTheme}>\r\n                Start searching\r\n            </HeaderText>\r\n            <MainPage />\r\n        </Main>\r\n    );\r\n}\r\n \r\nexport default Home;","import React, { useContext } from 'react';\r\nimport { createGlobalStyle } from 'styled-components';\r\nimport { ThemeContext } from '../context/ThemeContext';\r\nimport { theme } from '../themes/GlobalTheme';\r\n\r\nconst Style = createGlobalStyle`\r\n  html {\r\n    background-color: ${({currentTheme}) => theme[currentTheme].colors.primary};\r\n  }\r\n\r\n  button, input {\r\n    font-family: 'Roboto', sans-serif;\r\n  }\r\n`\r\n\r\nconst GlobalStyle = () => {\r\n    const {currentTheme} = useContext(ThemeContext);\r\n\r\n    return ( \r\n        <Style currentTheme={currentTheme} />\r\n    );\r\n}\r\n \r\nexport default GlobalStyle;","import React, { useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport { db } from '../../services/firebase/config';\r\nimport { theme } from '../../themes/GlobalTheme';\r\nimport { ThemeContext } from '../../context/ThemeContext';\r\n\r\nconst Item = styled.div`\r\n    width: 90%;\r\n    min-height: 100px;\r\n    background-color: ${({ currentTheme }) => theme[currentTheme].colors.secondary};\r\n    padding: 10px;\r\n    margin-top: 20px;\r\n    border-radius: ${theme.properties.radiusSmall};\r\n\r\n    @media (min-width: 700px) {\r\n        width: 50%;\r\n    }\r\n`\r\nconst TitleWrapper = styled.div`\r\n    display: flex;\r\n`\r\nconst Title = styled.p`\r\n    color: ${theme.colors.accent};\r\n    flex: 2;\r\n    margin: 0;\r\n    font-size: ${theme.fonts.l};\r\n    font-weight: 700;\r\n`\r\nconst Delete = styled.button`\r\n    border: 0;\r\n    background-color: ${({ currentTheme }) => theme[currentTheme].colors.primary};\r\n    color:  ${theme.colors.delete};\r\n    transition: all .3s ease-in-out;\r\n    font-weight: 900;\r\n    border-radius: ${theme.properties.radiusSmall};\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n        background-color: ${({ currentTheme }) => theme[currentTheme].colors.secondary};\r\n    }\r\n`\r\nconst Year = styled.p`\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    color: ${theme.colors.syntax};\r\n    font-size: ${theme.fonts.s};\r\n    margin: 0;\r\n`\r\nconst DetailsWrapper = styled.div`\r\n    display: flex;\r\n    justify-content: left;\r\n`\r\nconst Duration = styled.p`\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    margin-right: 30px;\r\n    padding: 10px;\r\n    border-radius: ${theme.properties.radiusSmall};\r\n    background-color: ${({ currentTheme }) => theme[currentTheme].colors.primary};\r\n    font-weight: 700;\r\n`\r\nconst Genres = styled.p`\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    padding: 10px;\r\n    border-radius: ${theme.properties.radiusSmall};\r\n    background-color: ${({ currentTheme }) => theme[currentTheme].colors.primary};\r\n    font-weight: 700;\r\n`\r\n\r\n\r\nconst deleteFromList = (title, docs) => {\r\n    for(const doc of docs) {\r\n        if(doc[title]) {\r\n            const id = doc[title];\r\n            db.collection('movies').doc(id).delete();\r\n        }\r\n    }\r\n} \r\n\r\nconst WatchListItem = ({ title, year, duration, genres, docs }) => {\r\n    const {currentTheme} = useContext(ThemeContext);\r\n\r\n    return (\r\n        <Item currentTheme={currentTheme}>\r\n            <TitleWrapper>\r\n                <Title>\r\n                    {title}\r\n                </Title>\r\n                <Delete currentTheme={currentTheme} onClick={() => deleteFromList(title, docs)}>\r\n                    DELETE\r\n                </Delete>\r\n            </TitleWrapper>\r\n            <Year currentTheme={currentTheme}>\r\n                {year}\r\n            </Year>\r\n            <DetailsWrapper>\r\n                <Duration currentTheme={currentTheme}>\r\n                    {duration}\r\n                </Duration>\r\n                <Genres currentTheme={currentTheme}>\r\n                    {genres}\r\n                </Genres>\r\n            </DetailsWrapper>\r\n        </Item>\r\n        \r\n    );\r\n}\r\n \r\nexport default WatchListItem;","import React, { useEffect, useState, useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport Menu from '../Menu/index';\r\nimport { theme } from '../../themes/GlobalTheme';\r\nimport WatchListItem from './WatchListItem';\r\nimport { db } from '../../services/firebase/config';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from 'react-loader-spinner';\r\nimport { ThemeContext } from '../../context/ThemeContext';\r\nimport SortBlack from '../../assets/icons/sortblack.svg';\r\nimport SortWhite from '../../assets/icons/sortwhite.svg';\r\n\r\nconst Main = styled.main`\r\n    display: flex;\r\n    align-items: center;\r\n    flex-direction: column;\r\n`\r\n\r\nconst Error = styled.div`\r\n    width: 100%;\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    text-align: center;\r\n    font-size: ${theme.fonts.l};\r\n    margin-top: 100px;\r\n`\r\nconst Sort = styled.div`\r\n    position: absolute;\r\n    right: 12px;\r\n    top: 5px;\r\n`\r\nconst SortIcon = styled.img`\r\n    height: 35px;\r\n`\r\nconst SortOptions = styled.div`\r\n    display: flex;\r\n    width: ${({isSortOpen}) => isSortOpen ? \"40%\" : \"0px\" };\r\n    height: ${({isSortOpen}) => isSortOpen ? \"180px\" : \"0px\" };\r\n    overflow: hidden;\r\n    flex-direction: column;\r\n    position: absolute;\r\n    top: 10px;\r\n    right: 10px;\r\n    background-color: ${({ currentTheme }) => theme[currentTheme].colors.secondary};\r\n    z-index: 100;\r\n    transition: height .4s ease-in-out;\r\n    border-radius: ${theme.properties.radiusSmall};\r\n    box-shadow: ${({ currentTheme }) => `0px 0px 15px ${theme[currentTheme].colors.primary}`};\r\n\r\n    @media (min-width: 1000px) {\r\n        width: ${({isSortOpen}) => isSortOpen ? \"20%\" : \"0px\" };\r\n    }\r\n`\r\nconst SortOption = styled.div`\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    padding: 20px 10px;\r\n    font-size: ${theme.fonts.s};\r\n    cursor: pointer;\r\n    transition: all .3s ease-in-out;\r\n\r\n    &:hover {\r\n        background-color: ${({ currentTheme }) => theme[currentTheme].colors.primary};\r\n    }\r\n`\r\nconst CloseBox = styled.div`\r\n    display: ${({isSortOpen}) => isSortOpen ? \"block\" : \"none\" };\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 50;\r\n`\r\n\r\n\r\n\r\nconst WatchList = () => {\r\n    const loader = <Loader type=\"TailSpin\" color={theme.colors.accent} height={400} width={100} timeout={10000} />;\r\n    const {currentTheme} = useContext(ThemeContext);\r\n    const [movies, setMovies] = useState([]);\r\n    const [isSortOpen, setIsSortOpen] = useState(false);\r\n    const [docs, setDocs] = useState([]);\r\n    const uid = localStorage.getItem(\"uid\");\r\n\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isWatchlistEmpty, setIsWatchlistEmpty] = useState(false);\r\n\r\n    useEffect(() => { \r\n        const res = db.collection('movies').onSnapshot(snapshot => {\r\n            if(snapshot.size) {\r\n                const results = [];\r\n                const docsId = [];\r\n                snapshot.forEach(doc => {\r\n                        if(doc.data()[uid]) {\r\n                            const movie = doc.data()[uid];\r\n                            results.push({ \r\n                                title: movie.title, \r\n                                year: movie.year, \r\n                                rate: movie.rate, \r\n                                genres: movie.genres, \r\n                                duration: movie.duration, \r\n                                description: movie.description,\r\n                                addedAt: movie.addedAt\r\n                            });\r\n                            docsId.push({\r\n                                [movie.title]: doc.id\r\n                            });\r\n                        }\r\n                    }\r\n                );\r\n                \r\n                if(results.length) {\r\n                    setMovies(results);\r\n                } else {\r\n                    setIsWatchlistEmpty(true);\r\n                }\r\n                setDocs(docsId);\r\n            } else {\r\n                setIsWatchlistEmpty(true);\r\n            }\r\n            setIsLoading(false);\r\n        });   \r\n        \r\n        return () => {\r\n            res();\r\n        }\r\n\r\n    }, [uid]);\r\n\r\n    const sortMovies = (movies, setMovies, type) => {\r\n        if(type === 'a-z') {\r\n            setMovies(movies.sort((a, b) => {\r\n                if(a.title < b.title) return -1; \r\n                if(a.title > b.title) return 1; \r\n                return 0;\r\n            }));\r\n        }\r\n        if(type === 'earliest') {\r\n            setMovies(movies.sort((a, b) => {\r\n                return a.addedAt - b.addedAt;\r\n            }));\r\n        }\r\n        if(type === 'latest') {\r\n            setMovies(movies.sort((a, b) => {\r\n                return b.addedAt - a.addedAt;\r\n            }));\r\n        }\r\n        \r\n    }\r\n    \r\n    return (\r\n        <Main>\r\n            <Menu />\r\n            {isWatchlistEmpty && (\r\n                <Error currentTheme={currentTheme}> Nothing found :( </Error>\r\n            )}\r\n            {isLoading && loader}\r\n            {!isLoading &&\r\n                !isWatchlistEmpty &&\r\n                movies.map((movie) => (\r\n                    <WatchListItem\r\n                        key={movie.title}\r\n                        title={movie.title}\r\n                        year={movie.year}\r\n                        duration={movie.duration}\r\n                        genres={movie.genres}\r\n                        docs={docs}\r\n                    />\r\n                ))}\r\n            {movies.length > 0 && (\r\n                <>\r\n                    <Sort>\r\n                        <SortIcon\r\n                            onClick={() => setIsSortOpen(!isSortOpen)}\r\n                            src={\r\n                                currentTheme === \"light\" ? SortBlack : SortWhite\r\n                            }\r\n                        />\r\n                    </Sort>\r\n                    <SortOptions\r\n                        onClick={() => setIsSortOpen(!isSortOpen)}\r\n                        currentTheme={currentTheme}\r\n                        isSortOpen={isSortOpen}\r\n                    >\r\n                        <SortOption\r\n                            currentTheme={currentTheme}\r\n                            onClick={() => sortMovies(movies, setMovies, \"a-z\")}\r\n                        >\r\n                            A-Z\r\n                        </SortOption>\r\n                        <SortOption\r\n                            currentTheme={currentTheme}\r\n                            onClick={() =>\r\n                                sortMovies(movies, setMovies, \"earliest\")\r\n                            }\r\n                        >\r\n                            Earliest added\r\n                        </SortOption>\r\n                        <SortOption\r\n                            currentTheme={currentTheme}\r\n                            onClick={() =>\r\n                                sortMovies(movies, setMovies, \"latest\")\r\n                            }\r\n                        >\r\n                            Latest added\r\n                        </SortOption>\r\n                    </SortOptions>\r\n                    <CloseBox\r\n                        onClick={() => setIsSortOpen(!isSortOpen)}\r\n                        isSortOpen={isSortOpen}\r\n                    />\r\n                </>\r\n            )}\r\n        </Main>\r\n    );\r\n}\r\n \r\nexport default WatchList;","import React, { useContext, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { theme } from '../../themes/GlobalTheme';\r\nimport Menu from '../Menu';\r\nimport { ThemeContext } from '../../context/ThemeContext';\r\nimport Eye from '../../assets/icons/eye.svg';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\nconst Form = styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 60%;\r\n    margin: 50px auto;\r\n\r\n    @media (min-width: 1000px) {\r\n        width: 40%;\r\n    }\r\n`\r\nconst Label = styled.label`\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    margin-top: 15px;\r\n    margin-bottom: 3px;\r\n    font-size: ${theme.fonts.xs};\r\n`\r\nconst Input = styled.input`\r\n    border: 0;\r\n    height: 50px;\r\n    border-radius: ${theme.properties.radiusSmall};\r\n    font-size: ${theme.fonts.s};\r\n    padding: 0px 10px;\r\n    outline: none;\r\n    width: 100%;\r\n\r\n    &:focus {\r\n        border: 2px solid #008ffc;\r\n    }\r\n\r\n    &[name=\"password\"] {\r\n        border: ${({ passwordError }) => passwordError === \"TOO_SHORT\" ? \"2px solid red\" : \"0\"};\r\n    }\r\n\r\n    &[name=\"email\"] {\r\n        border: ${({ emailError }) => emailError === \"EMAIL_IN_USE\" ? \"2px solid red\" : \"0\"};\r\n    }\r\n   \r\n        \r\n \r\n`\r\nconst Submit = styled.button`\r\n    color: black;\r\n    border: 0;\r\n    height: 50px;\r\n    background-color: ${theme.colors.accent};\r\n    width: 140px;\r\n    margin: 50px auto;\r\n    font-size: ${theme.fonts.s};\r\n    border-radius: ${theme.properties.radiusSmall};\r\n    transition: all .3s ease-in-out;\r\n\r\n    &:hover {\r\n        background-color: ${theme.colors.accentAlt};\r\n    }\r\n`\r\nconst ShowPassword = styled.span`\r\n    position: absolute;\r\n    right: 10px;\r\n    top: 12px;\r\n    cursor: pointer;\r\n`\r\nconst EyeIcon = styled.img`\r\n\r\n`\r\nconst HeroText = styled.p`\r\n    display: block;\r\n    margin: 50px auto;\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    font-size: 30px;\r\n    text-align: center;\r\n`\r\nconst ErrorMessage = styled.p`\r\n    color: red;\r\n    font-size: ${theme.fonts.xs};\r\n`\r\nconst PasswordWrapper = styled.div`\r\n    position: relative;\r\n`\r\nconst Redirector = styled.span`\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n    display: block;\r\n    text-align: center;\r\n    width: 100%;\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n`\r\n\r\n\r\n\r\nconst SignUp = () => {\r\n    \r\n    const {currentTheme} = useContext(ThemeContext);\r\n    const [isPasswordHidden, setIsPasswordHidden] = useState(true);\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const [emailError, setEmailError] = useState('');\r\n    const [passwordError, setPasswordError] = useState('');\r\n    const history = useHistory();\r\n    const { signUp } = useAuth();\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if(password.length < 6) {\r\n            setPasswordError('TOO_SHORT');\r\n            \r\n        } else {\r\n            setPasswordError('');\r\n            setEmailError('');\r\n            signUp(email, username)\r\n            .then((cred) => {\r\n                if(cred.user) {\r\n                    cred.user.updateProfile({displayName: username});\r\n                }\r\n            })\r\n            .then(() => history.push('/'))\r\n            .catch(err => {\r\n                if(err.code === \"auth/email-already-in-use\") {\r\n                    setEmailError('EMAIL_IN_USE');\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n\r\n        <Menu \r\n            current=\"Sign up\"\r\n        />\r\n        <HeroText currentTheme={currentTheme} >\r\n            Create free acount here\r\n        </HeroText>\r\n        <Form onSubmit={handleSubmit}>\r\n            <Label \r\n                htmlFor=\"username\" \r\n                currentTheme={currentTheme}\r\n            >\r\n                Username\r\n            </Label>\r\n            <Input \r\n                onChange={(e) => setUsername(e.target.value)} \r\n                value={username} \r\n                type=\"text\" \r\n                name=\"username\"  \r\n                currentTheme={currentTheme} \r\n            />\r\n            <Label \r\n                htmlFor=\"email\" \r\n                currentTheme={currentTheme}>Email\r\n            </Label>\r\n            <Input \r\n                onChange={(e) => setEmail(e.target.value)} \r\n                value={email} \r\n                type=\"email\" \r\n                name=\"email\"  \r\n                emailError={emailError}\r\n                currentTheme={currentTheme} \r\n            />\r\n            {emailError && <ErrorMessage>Email already in use</ErrorMessage>}\r\n            <Label \r\n                htmlFor=\"password\" \r\n                currentTheme={currentTheme}\r\n            >\r\n                Password\r\n            </Label>\r\n            <PasswordWrapper>\r\n                <Input \r\n                    onChange={(e) => setPassword(e.target.value)} \r\n                    value={password} type={isPasswordHidden ? \"password\" : \"text\" } \r\n                    name=\"password\" \r\n                    currentTheme={currentTheme}\r\n                    passwordError={passwordError}\r\n                />\r\n                <ShowPassword \r\n                    onClick={ () => setIsPasswordHidden(!isPasswordHidden) }\r\n                >\r\n                    <EyeIcon \r\n                        src={Eye}\r\n                    />\r\n                </ShowPassword>\r\n            </PasswordWrapper>\r\n            {passwordError && <ErrorMessage>Password must have min. 6 characters</ErrorMessage>}\r\n            <Submit \r\n                type=\"submit\" \r\n                currentTheme={currentTheme}\r\n            >\r\n                Sign up\r\n            </Submit>\r\n        </Form>\r\n        <Redirector \r\n            currentTheme={currentTheme} \r\n            onClick={() => history.push('/sign-in')}\r\n        >\r\n            Have an account already?\r\n        </Redirector>\r\n        </>\r\n    );\r\n}\r\n \r\nexport default SignUp;","import React, { useContext, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { theme } from '../../themes/GlobalTheme';\r\nimport Menu from '../Menu';\r\nimport { ThemeContext } from '../../context/ThemeContext';\r\nimport Eye from '../../assets/icons/eye.svg';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext'; \r\n\r\nconst Form = styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 60%;\r\n    margin: 50px auto;\r\n\r\n    @media (min-width: 1000px) {\r\n        width: 40%;\r\n    }\r\n`\r\nconst Label = styled.label`\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    margin-top: 15px;\r\n    margin-bottom: 3px;\r\n    font-size: ${theme.fonts.xs};\r\n`\r\nconst Input = styled.input`\r\n    border: ${({ isError }) => isError ? \"2px solid red\" : \"0\"};\r\n    height: 50px;\r\n    border-radius: ${theme.properties.radiusSmall};\r\n    font-size: ${theme.fonts.s};\r\n    padding: 0px 10px;\r\n    outline: none;\r\n    width: 100%;\r\n\r\n    &:focus {\r\n        border: 2px solid #008ffc;\r\n    }\r\n`\r\nconst Submit = styled.button`\r\n    color: black;\r\n    border: 0;\r\n    height: 50px;\r\n    background-color: ${theme.colors.accent};\r\n    width: 140px;\r\n    margin: 50px auto;\r\n    font-size: ${theme.fonts.s};\r\n    border-radius: ${theme.properties.radiusSmall};\r\n    transition: all .3s ease-in-out;\r\n\r\n    &:hover {\r\n        background-color: ${theme.colors.accentAlt};\r\n    }\r\n`\r\nconst ShowPassword = styled.span`\r\n    position: absolute;\r\n    right: 10px;\r\n    top: 12px;\r\n    cursor: pointer;\r\n`\r\nconst EyeIcon = styled.img`\r\n\r\n`\r\nconst HeroText = styled.p`\r\n    display: block;\r\n    margin: 50px auto;\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    font-size: 30px;\r\n    text-align: center;\r\n`\r\nconst PasswordWrapper = styled.div`\r\n    position: relative;\r\n`\r\nconst ErrorMessage = styled.p`\r\n    color: red;\r\n    font-size: ${theme.fonts.xs};\r\n`\r\nconst Redirector = styled.span`\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n    display: block;\r\n    text-align: center;\r\n    width: 100%;\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    margin-top: 30px;\r\n`\r\n\r\nconst SignIn = () => {\r\n    const {currentTheme} = useContext(ThemeContext);\r\n    const [isPasswordHidden, setIsPasswordHidden] = useState(true);\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [isAuthError, setIsAuthError] = useState(false);\r\n    const history = useHistory();\r\n    const { signIn } = useAuth();\r\n    \r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setIsAuthError(false);\r\n        signIn(email, password)\r\n        .then((cred) => {\r\n            localStorage.setItem(\"uid\", cred.user.uid);\r\n            history.push('/');\r\n        })\r\n        .catch(() => {\r\n            setIsAuthError(true);\r\n        });\r\n    }\r\n\r\n    return ( \r\n        <>\r\n\r\n        <Menu \r\n            current=\"Sign in\"\r\n        />\r\n        <HeroText currentTheme={currentTheme} >\r\n            Sign in to your account\r\n        </HeroText>\r\n        <Form onSubmit={handleSubmit}>\r\n            <Label \r\n                htmlFor=\"email\" \r\n                currentTheme={currentTheme}>Email\r\n            </Label>\r\n            <Input \r\n                onChange={(e) => setEmail(e.target.value)} \r\n                value={email} \r\n                type=\"email\" \r\n                name=\"email\"\r\n                isError={isAuthError} \r\n                currentTheme={currentTheme} \r\n            />\r\n            <Label \r\n                htmlFor=\"password\" \r\n                currentTheme={currentTheme}\r\n            >\r\n                Password\r\n            </Label>\r\n            <PasswordWrapper>\r\n                <Input \r\n                    onChange={(e) => setPassword(e.target.value)} \r\n                    value={password} type={isPasswordHidden ? \"password\" : \"text\" } \r\n                    name=\"password\" \r\n                    isError={isAuthError}\r\n                    currentTheme={currentTheme}\r\n                />\r\n                <ShowPassword \r\n                    onClick={ () => setIsPasswordHidden(!isPasswordHidden) }\r\n                >\r\n                    <EyeIcon \r\n                        src={Eye}\r\n                    />\r\n                </ShowPassword>\r\n                {isAuthError && <ErrorMessage>Invalid email or password</ErrorMessage>}\r\n            </PasswordWrapper>\r\n            <Submit \r\n                type=\"submit\" \r\n                currentTheme={currentTheme}\r\n            >\r\n                Sign in\r\n            </Submit>\r\n        </Form>\r\n        <Redirector \r\n            currentTheme={currentTheme} \r\n            onClick={() => history.push('/reset-password')}\r\n        >\r\n            Forgot password?\r\n        </Redirector>\r\n        <Redirector \r\n            currentTheme={currentTheme} \r\n            onClick={() => history.push('/sign-up')}\r\n        >\r\n            Don't have an account?\r\n        </Redirector>\r\n        </>\r\n    );\r\n}\r\n \r\nexport default SignIn;","import React, { useContext, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { theme } from '../../themes/GlobalTheme';\r\nimport Menu from '../Menu';\r\nimport { ThemeContext } from '../../context/ThemeContext';\r\nimport { auth } from '../../services/firebase/config';\r\n\r\nconst Form = styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 60%;\r\n    margin: 50px auto;\r\n\r\n    @media (min-width: 1000px) {\r\n        width: 40%;\r\n    }\r\n`\r\nconst Label = styled.label`\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    margin-top: 15px;\r\n    margin-bottom: 3px;\r\n    font-size: ${theme.fonts.xs};\r\n`\r\nconst Input = styled.input`\r\n    border: 0;\r\n    height: 50px;\r\n    border-radius: ${theme.properties.radiusSmall};\r\n    font-size: ${theme.fonts.s};\r\n    padding: 0px 10px;\r\n    outline: none;\r\n    width: 100%;\r\n\r\n    &:focus {\r\n        border: 2px solid #008ffc;\r\n    }\r\n\r\n    &[name=\"email\"] {\r\n        border: ${({ resetError }) => resetError ? \"2px solid red\" : \"0\"};\r\n    }\r\n   \r\n        \r\n \r\n`\r\nconst Submit = styled.button`\r\n    color: black;\r\n    border: 0;\r\n    height: 50px;\r\n    background-color: ${theme.colors.accent};\r\n    width: 140px;\r\n    margin: 50px auto;\r\n    font-size: ${theme.fonts.s};\r\n    border-radius: ${theme.properties.radiusSmall};\r\n    transition: all .3s ease-in-out;\r\n\r\n    &:hover {\r\n        background-color: ${theme.colors.accentAlt};\r\n    }\r\n`\r\n\r\nconst HeroText = styled.p`\r\n    display: block;\r\n    margin: 50px auto;\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    font-size: 30px;\r\n    text-align: center;\r\n`\r\n\r\nconst ErrorMessage = styled.p`\r\n    color: red;\r\n    font-size: ${theme.fonts.xs};\r\n`\r\n\r\nconst Message = styled.p`\r\n    color: #2fd353;\r\n    font-size: ${theme.fonts.xs};\r\n`\r\n\r\nconst Redirector = styled.a`\r\n    display: block;\r\n    text-align: center;\r\n    width: 100%;\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.syntax};\r\n    margin-top: 30px;\r\n`\r\n\r\n\r\n\r\n\r\nconst ResetPassword = () => {\r\n    const {currentTheme} = useContext(ThemeContext);\r\n    const [email, setEmail] = useState('');\r\n    const [resetError, setResetError] = useState('');\r\n    const [resetInfo, setResetInfo] = useState('');\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setResetError('');\r\n        await auth().sendPasswordResetEmail(email)\r\n        .then(() => {\r\n            setResetInfo(\"Your password has been succesfully reset. Check your inbox\");\r\n        })\r\n        .catch(() => {\r\n            setResetError(\"Failed to reset\");\r\n        });\r\n    }\r\n\r\n    return ( \r\n        <>\r\n\r\n        <Menu />\r\n        <HeroText currentTheme={currentTheme} >\r\n            Reset your password\r\n        </HeroText>\r\n        <Form onSubmit={handleSubmit}>\r\n            <Label \r\n                htmlFor=\"email\" \r\n                currentTheme={currentTheme}>Email\r\n            </Label>\r\n            <Input \r\n                onChange={(e) => setEmail(e.target.value)} \r\n                value={email} \r\n                type=\"email\" \r\n                name=\"email\"\r\n                resetError={resetError}  \r\n                currentTheme={currentTheme} \r\n            />\r\n            {resetInfo && <Message>{resetInfo}</Message>}\r\n            {resetError && <ErrorMessage>{resetError}</ErrorMessage>}\r\n            <Submit \r\n                type=\"submit\" \r\n                currentTheme={currentTheme}\r\n            >\r\n                Reset\r\n            </Submit>\r\n        </Form>\r\n        <Redirector \r\n            currentTheme={currentTheme} \r\n            href=\"/sign-in\"\r\n        >\r\n            Sign in to your account\r\n        </Redirector>\r\n        </>\r\n    );\r\n}\r\n \r\nexport default ResetPassword;","import { PureComponent } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass ScrollToTop extends PureComponent {\r\n  componentDidMount = () => window.scrollTo(0, 0);\r\n\r\n  componentDidUpdate = prevProps => {\r\n    if (this.props.location !== prevProps.location) window.scrollTo(0, 0);\r\n  };\r\n\r\n  render = () => this.props.children;\r\n}\r\n\r\nexport default withRouter(ScrollToTop);","import React, { useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport { theme } from '../../themes/GlobalTheme';\r\nimport { ThemeContext } from '../../context/ThemeContext';\r\n\r\nconst Error = styled.p`\r\n    font-size: 20vw;\r\n    color: ${({ currentTheme }) => theme[currentTheme].colors.altSyntax};\r\n    width: 100%;\r\n    height: 400px;\r\n    text-align: center;\r\n    margin: 0;\r\n`\r\n\r\nconst NotFound = () => {\r\n    const {currentTheme} = useContext(ThemeContext);\r\n    return ( \r\n        <Error currentTheme={currentTheme}>404</Error>\r\n    );\r\n}\r\nexport default NotFound;","import React from 'react';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\nimport Home from './components/Home/index';\nimport GlobalStyle from './components/GlobalStyle';\nimport WatchList from './components/WatchList/index';\nimport SignUp from './components/SignUp/index';\nimport SignIn from './components/SignIn/index';\nimport ResetPassword from './components/ResetPassword/index';\nimport ScrollToTop from './components/ScrollToTop';\nimport NotFound from './components/NotFound/index';\nimport ThemeContextProvider from './context/ThemeContext';\nimport { AuthProvider } from './context/AuthContext';\n\nfunction App() {\n\n  return (\n    <AuthProvider>\n    <HashRouter>\n      <ScrollToTop>\n        <ThemeContextProvider>\n          \n            <GlobalStyle />\n            <Switch>\n              <Route exact path='/' component={Home} />\n              <Route path='/watch-list' component={WatchList} />\n              <Route path='/sign-up' component={SignUp} />\n              <Route path='/sign-in' component={SignIn} />\n              <Route path='/reset-password' component={ResetPassword} />\n              <Route component={NotFound} />\n            </Switch>\n          \n        </ThemeContextProvider>\n      </ScrollToTop>\n    </HashRouter> \n    </AuthProvider>\n  )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}